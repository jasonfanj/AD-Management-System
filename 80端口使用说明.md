# 80端口使用说明

## 配置更改

服务已配置为使用 **80端口**，这样可以直接通过 `http://localhost/` 访问，无需指定端口号。

## 重要提示

### ⚠️ Windows 80端口权限要求

在 Windows 上使用 80 端口需要**管理员权限**：

1. **以管理员身份运行 PowerShell 或 CMD**
   - 右键点击 PowerShell/CMD
   - 选择"以管理员身份运行"

2. **然后运行启动脚本**：
   ```powershell
   cd "D:\AD Web\AD-Management-System"
   .\start.bat
   ```

### 如果无法使用80端口

如果遇到权限问题或端口被占用，可以：

1. **使用环境变量指定其他端口**：
   ```powershell
   $env:PORT=8080
   .\start.bat
   ```

2. **或修改 config.py**：
   ```python
   PORT = int(os.getenv('PORT', 8080))  # 改为8080或其他端口
   ```

## 访问地址

配置为80端口后：

- **Web界面**: http://localhost/
- **API接口**: http://localhost/api
- **前端文件**: 直接打开 `frontend/index.html`（仍可使用）

## 端口检查

启动前检查80端口是否被占用：

```powershell
netstat -ano | findstr :80
```

如果端口被占用，需要：
1. 停止占用80端口的服务（如IIS、Apache等）
2. 或使用其他端口

## 防火墙设置

如果无法访问，可能需要：

1. **允许防火墙规则**：
   - Windows 防火墙 → 高级设置
   - 入站规则 → 新建规则
   - 端口 → TCP → 80 → 允许连接

2. **或临时关闭防火墙测试**（不推荐生产环境）

## 优势

使用80端口的优势：
- ✅ 访问更简洁：`http://localhost/` 而不是 `http://localhost:5000/`
- ✅ 符合标准Web服务端口
- ✅ 前端可以直接通过Web访问，无需打开HTML文件

## 启动步骤

1. **以管理员身份打开 PowerShell**
2. **进入项目目录**：
   ```powershell
   cd "D:\AD Web\AD-Management-System"
   ```
3. **启动服务**：
   ```powershell
   .\start.bat
   ```
4. **访问服务**：
   - 浏览器打开：http://localhost/
   - 或直接打开：`frontend/index.html`

## 常见问题

### Q: 提示"Permission denied"或"Access denied"？

A: 需要以管理员身份运行。80端口是系统保留端口，需要管理员权限。

### Q: 提示"Address already in use"？

A: 80端口被占用。检查并停止占用80端口的服务，或使用其他端口。

### Q: 浏览器无法访问？

A: 检查：
1. 服务是否正常启动
2. 防火墙是否允许80端口
3. 是否有其他服务占用80端口

